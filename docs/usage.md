# ä½¿ç”¨æ•™ç¨‹

## å¿«é€Ÿå¼€å§‹

### 1. èŽ·å–ä¹¦ç±ID

åœ¨å¼€å§‹å¯¼å‡ºä¹‹å‰ï¼Œæ‚¨éœ€è¦èŽ·å–ç›®æ ‡ä¹¦ç±çš„IDï¼š

1. æ‰“å¼€å¾®ä¿¡è¯»ä¹¦ç½‘é¡µç‰ˆï¼šhttps://weread.qq.com/
2. æœç´¢æˆ–æ‰¾åˆ°æ‚¨æƒ³è¦å¯¼å‡ºçš„ä¹¦ç±
3. è¿›å…¥ä¹¦ç±è¯¦æƒ…é¡µ
4. ä»ŽURLä¸­æå–ä¹¦ç±ID

**ç¤ºä¾‹URL**:
```
https://weread.qq.com/web/bookDetail/08232ac0720befa90825d88
```

**ä¹¦ç±ID**: `08232ac0720befa90825d88`

### 2. åŸºæœ¬å¯¼å‡ºå‘½ä»¤

ä½¿ç”¨æœ€ç®€å•çš„å‘½ä»¤å¯¼å‡ºä¹¦ç±ï¼š

```bash
# å¯¼å‡ºä¸ºEPUBæ ¼å¼
weread-exporter --book-id 08232ac0720befa90825d88 --output-format epub

# æˆ–ä½¿ç”¨ç®€å†™å‚æ•°
weread-exporter -b 08232ac0720befa90825d88 -o epub
```

### 3. æŸ¥çœ‹å¯¼å‡ºç»“æžœ

å¯¼å‡ºå®ŒæˆåŽï¼Œæ–‡ä»¶å°†ä¿å­˜åœ¨å½“å‰ç›®å½•çš„ `output` æ–‡ä»¶å¤¹ä¸­ï¼š

```bash
# æŸ¥çœ‹è¾“å‡ºç›®å½•
ls output/
# è¾“å‡º: ä¹¦ç±åç§°.epub

# æ‰“å¼€å¯¼å‡ºçš„æ–‡ä»¶
open output/ä¹¦ç±åç§°.epub
```

## å‘½ä»¤è¡Œå‚æ•°è¯¦è§£

### åŸºæœ¬å‚æ•°

| å‚æ•° | ç®€å†™ | è¯´æ˜Ž | é»˜è®¤å€¼ | ç¤ºä¾‹ |
|------|------|------|--------|------|
| `--book-id` | `-b` | ä¹¦ç±IDï¼ˆå¿…å¡«ï¼‰ | æ—  | `-b 08232ac0720befa90825d88` |
| `--output-format` | `-o` | è¾“å‡ºæ ¼å¼ï¼ˆå¯é‡å¤ï¼‰ | epub | `-o epub -o pdf` |
| `--load-timeout` | æ—  | ç« èŠ‚åŠ è½½è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | 60 | `--load-timeout 120` |
| `--load-interval` | æ—  | ç« èŠ‚åŠ è½½é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ | 30 | `--load-interval 10` |
| `--css-file` | æ—  | è‡ªå®šä¹‰CSSæ ·å¼æ–‡ä»¶ | æ—  | `--css-file custom.css` |
| `--headless` | æ—  | æ— å¤´æ¨¡å¼ï¼ˆä¸æ˜¾ç¤ºæµè§ˆå™¨ï¼‰ | False | `--headless` |
| `--force-login` | æ—  | å¼ºåˆ¶ç™»å½•å¾®ä¿¡è¯»ä¹¦ | False | `--force-login` |
| `--use-default-profile` | æ—  | ä½¿ç”¨é»˜è®¤æµè§ˆå™¨é…ç½® | False | `--use-default-profile` |
| `--mock-user-agent` | æ—  | æ¨¡æ‹Ÿç”¨æˆ·ä»£ç† | False | `--mock-user-agent` |
| `--proxy-server` | æ—  | ä»£ç†æœåŠ¡å™¨ | æ—  | `--proxy-server http://proxy:8080` |
| `--help` | `-h` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | æ—  | `-h` |


## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå¯¼å‡ºå•æœ¬ä¹¦ç±ä¸ºå¤šç§æ ¼å¼

```bash
# åŒæ—¶å¯¼å‡ºEPUBã€PDFå’ŒMOBIæ ¼å¼
weread-exporter -b 08232ac0720befa90825d88 -o epub -o pdf -o mobi

# ä½¿ç”¨æ— å¤´æ¨¡å¼å¯¼å‡º
weread-exporter -b 08232ac0720befa90825d88 -o epub --headless
```

### ç¤ºä¾‹2ï¼šä½¿ç”¨é«˜çº§é…ç½®

```bash
# ä½¿ç”¨æ— å¤´æ¨¡å¼ï¼ŒåŠ å¿«å¯¼å‡ºé€Ÿåº¦
weread-exporter -b 08232ac0720befa90825d88 -o epub --headless

# è‡ªå®šä¹‰åŠ è½½å‚æ•°ï¼Œé€‚åˆç½‘ç»œè¾ƒæ…¢çš„æƒ…å†µ
weread-exporter -b 08232ac0720befa90825d88 -o epub --load-timeout 180 --load-interval 5

# ä½¿ç”¨ä»£ç†æœåŠ¡å™¨
weread-exporter -b 08232ac0720befa90825d88 -o epub --proxy-server http://127.0.0.1:8080
```

### ç¤ºä¾‹3ï¼šæ‰¹é‡å¯¼å‡ºä¹¦å•

å¦‚æžœæ‚¨æœ‰å¤šä¸ªä¹¦ç±éœ€è¦å¯¼å‡ºï¼Œå¯ä»¥åˆ›å»ºæ‰¹å¤„ç†è„šæœ¬ï¼š

```bash
# åˆ›å»ºä¹¦ç±IDåˆ—è¡¨æ–‡ä»¶ books.txt
cat > books.txt << EOF
08232ac0720befa90825d88
1a2b3c4d5e6f7g8h9i0j1k
book_id_3_here
EOF

# æ‰¹é‡å¯¼å‡ºè„šæœ¬
while read book_id; do
    echo "æ­£åœ¨å¯¼å‡ºä¹¦ç±: $book_id"
    weread-exporter -b "$book_id" -o epub -o pdf --headless
    echo "å¯¼å‡ºå®Œæˆ: $book_id"
    echo "---"
done < books.txt
```

## è¾“å‡ºæ ¼å¼è¯´æ˜Ž

### EPUBæ ¼å¼
- **ä¼˜ç‚¹**: æ ‡å‡†ç”µå­ä¹¦æ ¼å¼ï¼Œæ”¯æŒé‡æŽ’å’Œå­—ä½“è°ƒæ•´
- **é€‚ç”¨åœºæ™¯**: ç§»åŠ¨è®¾å¤‡é˜…è¯»ï¼ˆæ‰‹æœºã€å¹³æ¿ï¼‰
- **æ–‡ä»¶å¤§å°**: ä¸­ç­‰ï¼ŒåŒ…å«å›¾ç‰‡å’Œæ ·å¼

### PDFæ ¼å¼
- **ä¼˜ç‚¹**: å›ºå®šæŽ’ç‰ˆï¼Œæ‰“å°æ•ˆæžœå¥½
- **é€‚ç”¨åœºæ™¯**: æ¡Œé¢é˜…è¯»ã€æ‰“å°ã€å½’æ¡£
- **æ–‡ä»¶å¤§å°**: è¾ƒå¤§ï¼ŒåŒ…å«é«˜åˆ†è¾¨çŽ‡å›¾ç‰‡

### MOBIæ ¼å¼
- **ä¼˜ç‚¹**: Kindleè®¾å¤‡ä¸“ç”¨æ ¼å¼
- **é€‚ç”¨åœºæ™¯**: Kindleé˜…è¯»å™¨
- **æ–‡ä»¶å¤§å°**: ä¸­ç­‰ï¼Œéœ€è¦é¢å¤–è½¬æ¢

### TXTæ ¼å¼
- **ä¼˜ç‚¹**: çº¯æ–‡æœ¬ï¼Œå…¼å®¹æ€§æœ€å¥½
- **é€‚ç”¨åœºæ™¯**: å¿«é€ŸæŸ¥çœ‹ã€æ–‡æœ¬å¤„ç†
- **æ–‡ä»¶å¤§å°**: æœ€å°ï¼Œä»…åŒ…å«æ–‡æœ¬

### Markdownæ ¼å¼
- **ä¼˜ç‚¹**: ä¾¿äºŽç¼–è¾‘å’Œç‰ˆæœ¬æŽ§åˆ¶
- **é€‚ç”¨åœºæ™¯**: å†…å®¹ç¼–è¾‘ã€åšå®¢å‘å¸ƒ
- **æ–‡ä»¶å¤§å°**: è¾ƒå°ï¼Œç»“æž„åŒ–æ–‡æœ¬

## è‡ªå®šä¹‰æ ·å¼

### ä½¿ç”¨è‡ªå®šä¹‰CSS

åˆ›å»ºè‡ªå®šä¹‰CSSæ–‡ä»¶æ¥è°ƒæ•´å¯¼å‡ºæ ·å¼ï¼š

```css
/* custom.css */
body {
    font-family: "Microsoft YaHei", "PingFang SC", sans-serif;
    line-height: 1.6;
    color: #333;
    background: #f8f9fa;
}

h1, h2, h3 {
    color: #2c3e50;
    border-bottom: 1px solid #eaecef;
    padding-bottom: 0.3em;
}

code {
    background: #f6f8fa;
    border: 1px solid #e1e4e8;
    border-radius: 3px;
    padding: 0.2em 0.4em;
}

blockquote {
    border-left: 4px solid #dfe2e5;
    padding-left: 1em;
    margin-left: 0;
    color: #6a737d;
}
```

ä½¿ç”¨è‡ªå®šä¹‰CSSæ–‡ä»¶ï¼š

```bash
weread-exporter -b 08232ac0720befa90825d88 -o epub --css-file custom.css
```

### å†…ç½®æ ·å¼ä¸»é¢˜

å·¥å…·æä¾›å¤šä¸ªå†…ç½®ä¸»é¢˜ï¼š

```bash
# ä½¿ç”¨å†…ç½®ä¸»é¢˜ï¼ˆæœªæ¥ç‰ˆæœ¬æ”¯æŒï¼‰
weread-exporter -b 08232ac0720befa90825d88 -o epub --theme dark
```

## ç™»å½•å’Œè®¤è¯

### è‡ªåŠ¨ç™»å½•

é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œå·¥å…·ä¼šè‡ªåŠ¨å¤„ç†ç™»å½•ï¼š

```bash
# è‡ªåŠ¨æ£€æµ‹ç™»å½•çŠ¶æ€ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰
weread-exporter -b 08232ac0720befa90825d88 -o epub
```

### å¼ºåˆ¶ç™»å½•

å¦‚æžœéœ€è¦é‡æ–°ç™»å½•ï¼š

```bash
# å¼ºåˆ¶é‡æ–°ç™»å½•
weread-exporter -b 08232ac0720befa90825d88 -o epub --force-login
```

### ç™»å½•çŠ¶æ€ç®¡ç†

ç™»å½•ä¿¡æ¯ä¼šä¿å­˜åœ¨æœ¬åœ°ï¼š

```bash
# æŸ¥çœ‹ç™»å½•çŠ¶æ€æ–‡ä»¶ï¼ˆé€šå¸¸ä½ç½®ï¼‰
ls ~/.weread/cookies.json

# æ¸…é™¤ç™»å½•çŠ¶æ€
rm ~/.weread/cookies.json
```

## æ€§èƒ½ä¼˜åŒ–æŠ€å·§

### 1. ä½¿ç”¨æ— å¤´æ¨¡å¼

```bash
# æ˜¾è‘—æé«˜å¯¼å‡ºé€Ÿåº¦
weread-exporter -b 08232ac0720befa90825d88 -o epub --headless
```

### 2. è°ƒæ•´åŠ è½½å‚æ•°

```bash
# ç½‘ç»œè¾ƒæ…¢æ—¶å¢žåŠ è¶…æ—¶æ—¶é—´
weread-exporter -b 08232ac0720befa90825d88 -o epub --load-timeout 180

# å‡å°‘åŠ è½½é—´éš”åŠ å¿«é€Ÿåº¦ï¼ˆå¯èƒ½å¢žåŠ è¢«å°é£Žé™©ï¼‰
weread-exporter -b 08232ac0720befa90825d88 -o epub --load-interval 10
```

### 3. æ‰¹é‡å¤„ç†ä¼˜åŒ–

```bash
# ä½¿ç”¨å¹¶å‘å¤„ç†ï¼ˆæœªæ¥ç‰ˆæœ¬æ”¯æŒï¼‰
weread-exporter --batch books.txt --concurrency 3 -o epub
```

## å¸¸è§ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šä¸ªäººé˜…è¯»å¤‡ä»½

```bash
# å¤‡ä»½ä¸ªäººä¹¦åº“ä¸­çš„æ‰€æœ‰ä¹¦ç±
for book_id in $(cat my_books.txt); do
    weread-exporter -b "$book_id" -o epub -o pdf --headless
    sleep 60  # é¿å…é¢‘ç¹è¯·æ±‚
done
```

### åœºæ™¯2ï¼šå­¦æœ¯ç ”ç©¶å¼•ç”¨

```bash
# å¯¼å‡ºå‚è€ƒæ–‡çŒ®ä¸ºPDFæ ¼å¼ï¼Œä¾¿äºŽæ‰“å°å’Œæ ‡æ³¨
weread-exporter -b research_book_id -o pdf --css-file academic.css
```

### åœºæ™¯3ï¼šå†…å®¹åˆ›ä½œç´ æ

```bash
# å¯¼å‡ºä¸ºMarkdownæ ¼å¼ï¼Œä¾¿äºŽå†…å®¹ç¼–è¾‘
weread-exporter -b source_book_id -o md
```

## è¾“å‡ºæ–‡ä»¶ç»“æž„

### å•ä¸ªä¹¦ç±å¯¼å‡º

```
output/
â””â”€â”€ ä¹¦ç±åç§°_ä¹¦ç±ID/
    â”œâ”€â”€ ä¹¦ç±åç§°.epub
    â”œâ”€â”€ ä¹¦ç±åç§°.pdf
    â”œâ”€â”€ ä¹¦ç±åç§°.mobi
    â”œâ”€â”€ images/           # å›¾ç‰‡èµ„æº
    â”‚   â”œâ”€â”€ cover.jpg
    â”‚   â””â”€â”€ chapter_*.jpg
    â””â”€â”€ metadata.json    # ä¹¦ç±å…ƒæ•°æ®
```

### æ‰¹é‡å¯¼å‡ºç»“æž„

```
output/
â”œâ”€â”€ 2024-10-27_export/
â”‚   â”œâ”€â”€ book1/
â”‚   â”œâ”€â”€ book2/
â”‚   â””â”€â”€ summary.json     # æ‰¹é‡å¯¼å‡ºæ‘˜è¦
â””â”€â”€ 2024-10-28_export/
    â”œâ”€â”€ book3/
    â””â”€â”€ book4/
```

## é«˜çº§åŠŸèƒ½

### 1. æ–­ç‚¹ç»­ä¼ 

å¦‚æžœå¯¼å‡ºè¿‡ç¨‹ä¸­ä¸­æ–­ï¼Œå¯ä»¥æ¢å¤å¯¼å‡ºï¼š

```bash
# è‡ªåŠ¨æ£€æµ‹ç¼“å­˜å¹¶ç»§ç»­å¯¼å‡º
weread-exporter -b 08232ac0720befa90825d88 -o epub --resume
```

### 2. å¢žé‡å¯¼å‡º

åªå¯¼å‡ºæ–°å¢žæˆ–ä¿®æ”¹çš„ç« èŠ‚ï¼š

```bash
# ä»…å¯¼å‡ºä¸Šæ¬¡å¯¼å‡ºåŽçš„æ–°å†…å®¹
weread-exporter -b 08232ac0720befa90825d88 -o epub --incremental
```

### 3. è´¨é‡è®¾ç½®

è°ƒæ•´å¯¼å‡ºè´¨é‡ï¼š

```bash
# é«˜è´¨é‡æ¨¡å¼ï¼ˆæ–‡ä»¶æ›´å¤§ï¼‰
weread-exporter -b 08232ac0720befa90825d88 -o pdf --quality high

# æ ‡å‡†è´¨é‡ï¼ˆé»˜è®¤ï¼‰
weread-exporter -b 08232ac0720befa90825d88 -o pdf --quality standard

# åŽ‹ç¼©æ¨¡å¼ï¼ˆæ–‡ä»¶æ›´å°ï¼‰
weread-exporter -b 08232ac0720befa90825d88 -o pdf --quality compressed
```

## å®žç”¨æŠ€å·§

### 1. å‘½ä»¤è¡Œè‡ªåŠ¨è¡¥å…¨

è®¾ç½®å‘½ä»¤è¡Œè‡ªåŠ¨è¡¥å…¨ï¼ˆbash/zshï¼‰ï¼š

```bash
# æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
complete -C 'weread-exporter --complete' weread-exporter
```

### 2. åˆ«åè®¾ç½®

åˆ›å»ºå‘½ä»¤åˆ«åç®€åŒ–ä½¿ç”¨ï¼š

```bash
# æ·»åŠ åˆ° shell é…ç½®æ–‡ä»¶
alias wexport='weread-exporter'
alias wex='weread-exporter --headless -o epub -o pdf'
```

### 3. æ—¥å¿—å’Œè°ƒè¯•

å¯ç”¨è¯¦ç»†æ—¥å¿—è¾“å‡ºï¼š

```bash
# æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—
weread-exporter -b 08232ac0720befa90825d88 -o epub --verbose

# ä¿å­˜æ—¥å¿—åˆ°æ–‡ä»¶
weread-exporter -b 08232ac0720befa90825d88 -o epub --log-file export.log
```

## ä¸‹ä¸€æ­¥

æŽŒæ¡äº†åŸºæœ¬ç”¨æ³•åŽï¼Œæ‚¨å¯ä»¥ï¼š

1. ðŸ”§ å­¦ä¹ [é«˜çº§åŠŸèƒ½](advanced.md)å®žçŽ°æ›´å¤æ‚çš„å¯¼å‡ºéœ€æ±‚
2. ðŸ“š äº†è§£[æ‰¹é‡å¤„ç†](batch.md)æé«˜å·¥ä½œæ•ˆçŽ‡
3. ðŸŽ¨ æŽ¢ç´¢[æ ·å¼å®šåˆ¶](styling.md)åˆ›å»ºä¸ªæ€§åŒ–è¾“å‡º
4. ðŸ”¬ æ·±å…¥[æž¶æž„è§£æž](architecture.md)ç†è§£æŠ€æœ¯åŽŸç†

---

**é‡åˆ°ä½¿ç”¨é—®é¢˜ï¼Ÿ** æŸ¥çœ‹[æ•…éšœæŽ’é™¤æŒ‡å—](troubleshooting.md)èŽ·å–è§£å†³æ–¹æ¡ˆï¼ ðŸ”§